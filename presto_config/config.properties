coordinator=true
node-scheduler.include-coordinator=false
http-server.http.port=8080

# Conservative memory settings
query.max-memory=50GB
query.max-memory-per-node=16GB
query.max-total-memory-per-node=48GB
memory.heap-headroom-per-node=2GB

# Query settings
query.concurrency=4
discovery-server.enabled=true
discovery.uri=http://presto:8080

# Native execution with conservative settings
native-execution-enabled=true
native-execution-system-memory-allocator=UNSAFE
native-execution-max-per-node-memory-size=32GB

# Conservative hash settings - don't disable completely
optimizer.optimize-hash-generation=true

# Basic spilling settings
hash-based-distinct-spilling-enabled=true
join-spilling-enabled=true
spiller-spill-path=/tmp/spill

# Query execution settings
query.max-stage-count=50
query.max-history=50

# Enable some experimental features that might help
experimental.spill-enabled=true
experimental.spill-order-by=true
experimental.spill-window-function=true
